<dx-popup 
    width="auto" 
    height="auto" 
    [showTitle]="true" 
    [(title)]="popupTitle" 
    [dragEnabled]="true"
    [closeOnOutsideClick]="true" 
    [showCloseButton]="true" 
    [(visible)]="popupVisible"
    (onInitialized)="onContentReady($event)">
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="before" [visible]="model.state === formState.CREATE"
            [options]="createButtonOptions">
        </dxi-toolbar-item>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="before"
            [visible]="model.state === formState.EDIT && isAdminRole == true" [options]="editButtonOptions">
        </dxi-toolbar-item>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="before"
            [visible]="model.state === formState.DETAIL && isAdminRole == true" [options]="enterEditFormButtonOptions">
        </dxi-toolbar-item>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="before"
            [visible]="model.state === formState.DETAIL && isAdminRole == true" [options]="deleteButtonOptions">
        </dxi-toolbar-item>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="after" [options]="closeButtonOptions">
        </dxi-toolbar-item>
        <div *dxTemplate="let data of 'content'">
            <dx-form id="form" 
                [formData]="currUser" 
                [colCount]="2" 
                [readOnly]="model.state === formState.DETAIL">
                    <dxi-item dataField="firstName">
                        <dxi-validation-rule type="required" message="First name is required"></dxi-validation-rule>
                    </dxi-item>
                    <dxi-item dataField="lastName">
                        <dxi-validation-rule type="required" message="Last name is required"></dxi-validation-rule>
                    </dxi-item>
                    <dxi-item dataField="email" helpText="Enter email with domain @kloon.vn">
                    <dxi-validation-rule type="pattern" [pattern]="emailPattern" message="Email is wrong format">
                    </dxi-validation-rule>
                    <dxi-validation-rule type="required" message="Email is required"></dxi-validation-rule>
                </dxi-item>
                <dxi-item 
                    dataField="sex" 
                    editorType="dxSelectBox" 
                    [editorOptions]="{dataSource: sexDataSource,displayExpr: 'caption',valueExpr: 'value'}">
                        <dxi-validation-rule type="required" message="Sex is required">
                        </dxi-validation-rule>
                </dxi-item>

                <dxi-item 
                dataField="roleId" 
                    [label]="{ text: 'Role' }" 
                    editorType="dxSelectBox" 
                    [editorOptions]="{dataSource: roleDataSource,displayExpr: 'caption',valueExpr: 'value'}">
                    <dxi-validation-rule type="required" message="Sex is required"></dxi-validation-rule>
                </dxi-item>
                <dxi-item 
                    dataField="positionId" 
                    [label]="{ text: 'Position' }" 
                    editorType="dxSelectBox" 
                    [editorOptions]="{dataSource: position,displayExpr: 'name',valueExpr: 'id'}">
                        <dxi-validation-rule type="required" message="Position is required"></dxi-validation-rule>
                </dxi-item>
                <dxi-item 
                    dataField="phoneNo" 
                    editorType="dxTextBox" 
                    [editorOptions]="{mask: '0000-0000-00'}">
                </dxi-item>

                <dxi-item 
                    dataField="doB" 
                    [label]="{ text: 'Date of birth' }" 
                    editorType="dxDateBox" 
                    [editorOptions]="{width: '100%',type: 'date',displayFormat: 'dd/MM/yyyy'}">
                </dxi-item>
            </dx-form>
        </div>
</dx-popup>

<dx-popup 
    width="auto" 
    height="auto" 
    [showTitle]="true" 
    title="DELETE CONFIRM" 
    [dragEnabled]="true"
    [closeOnOutsideClick]="true" [showCloseButton]="true" 
    [(visible)]="popupConfirmDeleteVisible">>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="before" [options]="confirmDeleteButtonOptions">
        </dxi-toolbar-item>
        <dxi-toolbar-item widget="dxButton" toolbar="bottom" location="after" [options]="closeDeletePopupButtonOptions">
        </dxi-toolbar-item>
        <div *dxTemplate="let data of 'content'">
            Are you sure you want to delete this record?
        </div>
</dx-popup>